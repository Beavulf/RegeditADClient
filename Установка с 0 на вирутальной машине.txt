# Руководство по запуску сервера на Windows

## 1. Установка Node.js и npm
1. Перейдите на сайт https://nodejs.org/
2. Скачайте LTS-версию для Windows и установите её (npm устанавливается автоматически).
3. Проверьте установку в командной строке:
   ```
   node -v
   npm -v
   ```

## 2. Установка MongoDB
1. Перейдите на https://www.mongodb.com/try/download/community
2. Скачайте MSI-инсталлятор для Windows и установите MongoDB (оставьте все настройки по умолчанию).
3. После установки убедитесь, что служба MongoDB запущена:
   - Откройте "Службы" (Win+R → services.msc) и найдите "MongoDB".
   - Если не запущена — запустите вручную.

## 3. Клонирование или копирование проекта
1. Скопируйте папку проекта на диск (например, `C:\Orojects`).
2. Откройте командную строку (Win+R → cmd) и перейдите в папку проекта:
   ```
   cd C:\Orojects
   ```

## 4. Установка зависимостей
Выполните команду:
```
пропустить шаг
```

## 5. Настройка переменных окружения
1. В корне проекта создайте файл `.env` (например, через Блокнот).
(по умолчанию есть в проекте)
2. Пример содержимого:
   ```
   PORT=3000
   JWT_SECRET_KEY=your_jwt_secret_key
   MONGO_URL=mongodb://localhost:27017
   MONGO_DB_CONNECTION_URL=mongodb://localhost:27017/RegAD
   CORS_DOMAINS=http://localhost:3000
   # Для подключения к SQL Server (если используется)
   SQL_USER=your_sql_user
   SQL_PASSWORD=your_sql_password
   SQL_SERVER=your_sql_server_address
   SQL_DATABASE=your_sql_database_name
   ```
3. Сохраните файл.

## 6. Запуск сервера вручную
В командной строке в папке проекта выполните:
```
node server.js
```

## 7. Автоматический запуск сервера как службы через NSSM

### 7.1. Скачайте и установите NSSM
1. Перейдите на https://nssm.cc/download
2. Скачайте архив, распакуйте его (например, в `C:\nssm`).

### 7.2. Создайте службу для Node.js сервера
1. Откройте командную строку от имени администратора (Пуск → cmd → ПКМ → Запуск от имени администратора).
2. Выполните команду (замените пути на свои):
   ```
   C:\nssm\win64\nssm.exe install RegADServer
   ```
3. В открывшемся окне:
   - В поле **Application** → **Path** укажите путь к `node.exe`, например:  
     `C:\Program Files\nodejs\node.exe`
   - В поле **Arguments** укажите путь к вашему `server.js`, например:  
     `C:\Orojects\server.js`
   - В поле **Startup directory** укажите папку проекта:  
     `C:\Orojects`
   - Перейдите на вкладку **Details** и задайте имя службы, например: `RegADServer`
   - Нажмите **Install service**

### 7.3. Запустите службу
1. Откройте "Службы" (Win+R → services.msc)
2. Найдите службу `RegADServer`, выберите её и нажмите "Запустить".
3. Теперь сервер будет запускаться автоматически при старте Windows.

---

## 8. Проверка работы
- Откройте браузер и перейдите по адресу:  
  `http://localhost:3000/`   - будет сообщение Can not Get
  (или используйте нужный порт/IP)
- Логи сервера можно смотреть в папке `logs/`.

---